local TurtleLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/Turtle-Brand/Turtle-Lib/main/source.lua"))()
local plr = game.Players.LocalPlayer
local character = plr.Character or plr.CharacterAdded:Wait()
local humPart = character:WaitForChild("HumanoidRootPart")
plr.CharacterAdded:Connect(function(char)
    character = char
    humPart = char:WaitForChild("HumanoidRootPart")
end)
local map
game.Workspace.DescendantAdded:Connect(function(m)
    if m:IsA("Model") and m.Name == "CoinContainer" then
        map = m
    end
end)
local delay = 2.5
getgenv().farm = false
getgenv().reset = false
getgenv().disableBender = false

-- Custom Background with Purple Gradient
local screenGui = Instance.new("ScreenGui")
local frame = Instance.new("Frame")
local uigradient = Instance.new("UIGradient")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundTransparency = 0
uigradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(128, 0, 128)), -- Purple start
    ColorSequenceKeypoint.new(1, Color3.fromRGB(75, 0, 130))  -- Darker purple end
}
uigradient.Parent = frame
frame.Parent = screenGui

-- Create Turtle-Lib Window
local w = TurtleLib:Window("murder mystery 2 | summer")

-- Toggle: Auto Farm Coins
w:Toggle("Auto Farm Coins", false, function(bool)
    getgenv().farm = bool
    while getgenv().farm do
        if (not map) or (not map.Parent) then
            for _,m in ipairs(game.Workspace:GetDescendants()) do
                if m:IsA("Model") and m.Name == "CoinContainer" then
                    map = m
                    break
                end
            end
        end
        if map and map.Parent then
            for _,coin in ipairs(map:GetChildren()) do
                if not getgenv().farm then break end
                if coin:IsA("Part") and coin.Name=="Coin_Server" and coin:GetAttribute("CoinID")=="BeachBall" then
                    local cv = coin:FindFirstChild("CoinVisual")
                    if cv and cv.Transparency~=1 then
                        if not humPart or not humPart.Parent then
                            humPart = character and character:FindFirstChild("HumanoidRootPart")
                            if not humPart then break end
                        end
                        for _,p in pairs(character:GetChildren()) do
                            if p:IsA("BasePart") and p.CanCollide then p.CanCollide=false end
                        end
                        humPart.CFrame = coin.CFrame * CFrame.new(0,6,0)
                        task.wait(delay)
                    end
                end
            end
        end
        task.wait(1)
    end
end)

-- Toggle: Auto Reset
w:Toggle("Auto Reset", false, function(bool)
    getgenv().reset = bool
    while getgenv().reset do
        if getgenv().reset then
            plr.Character:BreakJoints()
            task.wait(1)
        end
    end
end)

-- Toggle: Disable Bender
w:Toggle("Disable Bender", false, function(bool)
    getgenv().disableBender = bool
    if bool then
        print("Bender disabled") -- Placeholder; customize if needed
    end
end)

-- Box: Farm Delay
w:Box("Farm Delay", function(num)
    delay = tonumber(num) or 2.5
end)

-- Button: Enable Anti AFK
w:Button("Enable Anti AFK", function()
    local GC = getconnections or get_signal_cons
    if GC then
        for _,v in pairs(GC(plr.Idled)) do
            if v.Disable then v:Disable() elseif v.Disconnect then v:Disconnect() end
        end
    else
        local vu = cloneref(game:GetService("VirtualUser"))
        plr.Idled:Connect(function()
            vu:CaptureController()
            vu:ClickButton2(Vector2.new())
        end)
    end
end)

-- Label: Time in Game
local timeInGame = 0
w:Label("X time in game: 00h 00m 00s", Color3.fromRGB(255, 255, 255))
spawn(function()
    while task.wait(1) do
        timeInGame = timeInGame + 1
        local hours = math.floor(timeInGame / 3600)
        local minutes = math.floor((timeInGame % 3600) / 60)
        local seconds = timeInGame % 60
        w:UpdateLabel("X time in game: 00h 00m 00s", string.format("X time in game: %02dh %02dm %02ds", hours, minutes, seconds), Color3.fromRGB(255, 255, 255))
    end
end)

-- Label: Branding
w:Label("~ t.me/arceusxscripts", Color3.fromRGB(127, 143, 166))
